2025-10-08 13:42:34,448 - run_10iteration_validation - INFO - ============================================================
2025-10-08 13:42:34,449 - run_10iteration_validation - INFO - EXTENDED VALIDATION - 30 ITERATIONS
2025-10-08 13:42:34,449 - run_10iteration_validation - INFO - ============================================================
2025-10-08 13:42:34,450 - run_10iteration_validation - INFO - Model: gemini-2.5-flash (via Google AI)
2025-10-08 13:42:34,450 - run_10iteration_validation - INFO - Purpose: Long-term stability monitoring + failure pattern collection
2025-10-08 13:42:34,451 - run_10iteration_validation - INFO - Expected duration: ~6 minutes (30 iterations × ~12 seconds)
2025-10-08 13:42:34,451 - run_10iteration_validation - INFO - 
2025-10-08 13:42:34,452 - __main__ - INFO - ============================================================
2025-10-08 13:42:34,452 - __main__ - INFO - STARTING EXTENDED VALIDATION - 30 ITERATIONS
2025-10-08 13:42:34,453 - __main__ - INFO - ============================================================
2025-10-08 13:42:34,453 - __main__ - INFO - Model: gemini-2.5-flash
2025-10-08 13:42:34,454 - __main__ - INFO - 
輸入成功!
2025-10-08 13:42:38,596 - run_10iteration_validation - INFO - ✅ Finlab data loaded successfully
2025-10-08 13:42:38,626 - __main__ - INFO - 
2025-10-08 13:42:38,627 - __main__ - INFO - ============================================================
2025-10-08 13:42:38,627 - __main__ - INFO - ITERATION 0/29
2025-10-08 13:42:38,628 - __main__ - INFO - ============================================================
WARNING: All log messages before absl::InitializeLog() is called are written to STDERR
E0000 00:00:1759902160.700885   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 0
============================================================

[1/6] Building prompt...
✅ Prompt ready (5610 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (2695 chars)
✅ Strategy generated (2695 chars)

[2.5/6] Auto-fixing dataset keys...
✅ Applied 1 fixes:
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: indicator:RSI not exists...

[5/6] Building feedback...
✅ Feedback generated (133 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter0.py
2025-10-08 13:43:07,405 - __main__ - ERROR - ❌ Iteration 0 FAILED: FAILED
2025-10-08 13:43:07,406 - __main__ - INFO - 
2025-10-08 13:43:07,406 - __main__ - INFO - ============================================================
2025-10-08 13:43:07,406 - __main__ - INFO - ITERATION 1/29
2025-10-08 13:43:07,406 - __main__ - INFO - ============================================================
E0000 00:00:1759902187.412607   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 1
============================================================

[1/6] Building prompt...
✅ Prompt ready (6107 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (2481 chars)
✅ Strategy generated (2481 chars)

[2.5/6] Auto-fixing dataset keys...
✅ Applied 1 fixes:
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: indicator:RSI not exists...

[5/6] Building feedback...
✅ Feedback generated (133 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter1.py
2025-10-08 13:43:28,245 - __main__ - ERROR - ❌ Iteration 1 FAILED: FAILED
2025-10-08 13:43:28,246 - __main__ - INFO - 
2025-10-08 13:43:28,246 - __main__ - INFO - ============================================================
2025-10-08 13:43:28,246 - __main__ - INFO - ITERATION 2/29
2025-10-08 13:43:28,247 - __main__ - INFO - ============================================================
E0000 00:00:1759902208.251987   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 2
============================================================

[1/6] Building prompt...
✅ Prompt ready (6107 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (1924 chars)
✅ Strategy generated (1924 chars)

[2.5/6] Auto-fixing dataset keys...
✅ Applied 1 fixes:
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: etl:foreign_main_force_buy_sell_summary:strength not exists...

[5/6] Building feedback...
✅ Feedback generated (168 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter2.py
2025-10-08 13:43:43,457 - __main__ - ERROR - ❌ Iteration 2 FAILED: FAILED
2025-10-08 13:43:43,458 - __main__ - INFO - 
2025-10-08 13:43:43,458 - __main__ - INFO - ============================================================
2025-10-08 13:43:43,459 - __main__ - INFO - ITERATION 3/29
2025-10-08 13:43:43,459 - __main__ - INFO - ============================================================
E0000 00:00:1759902223.464824   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 3
============================================================

[1/6] Building prompt...
✅ Prompt ready (7300 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (2520 chars)
✅ Strategy generated (2520 chars)

[2.3/6] Validating champion preservation...
✅ Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
✅ Applied 2 fixes:
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)
   - Fixed: fundamental_features:本益比 → price_earning_ratio:本益比

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: indicator:RSI not exists...

[5/6] Building feedback...
✅ Feedback generated (133 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter3.py
2025-10-08 13:44:13,087 - __main__ - ERROR - ❌ Iteration 3 FAILED: FAILED
2025-10-08 13:44:13,088 - __main__ - INFO - 
2025-10-08 13:44:13,088 - __main__ - INFO - ============================================================
2025-10-08 13:44:13,089 - __main__ - INFO - ITERATION 4/29
2025-10-08 13:44:13,089 - __main__ - INFO - ============================================================
E0000 00:00:1759902253.114122   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 4
============================================================

[1/6] Building prompt...
✅ Prompt ready (7300 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (2424 chars)
✅ Strategy generated (2424 chars)

[2.3/6] Validating champion preservation...
✅ Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
✅ Applied 2 fixes:
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)
   - Fixed: fundamental_features:本益比 → price_earning_ratio:本益比

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: foreign_main_force_buy_sell_summary not exists...

[5/6] Building feedback...
✅ Feedback generated (155 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter4.py
2025-10-08 13:44:40,948 - __main__ - ERROR - ❌ Iteration 4 FAILED: FAILED
2025-10-08 13:44:40,949 - __main__ - INFO - 
2025-10-08 13:44:40,949 - __main__ - INFO - ============================================================
2025-10-08 13:44:40,952 - __main__ - INFO - ITERATION 5/29
2025-10-08 13:44:40,952 - __main__ - INFO - ============================================================

============================================================
ITERATION 5
============================================================

[1/6] Building prompt...
2025-10-08 13:44:40,953 - prompt_builder - INFO - Forcing exploration mode (iteration 5)
E0000 00:00:1759902280.966669   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
✅ Prompt ready (6147 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (2072 chars)
✅ Strategy generated (2072 chars)

[2.3/6] Validating champion preservation...
2025-10-08 13:45:01,351 - autonomous_loop - WARNING - Preservation violation: Liquidity threshold relaxed by 80.0% (from 50 to 10)
⚠️  Preservation violation detected - regenerating with stronger constraints...
2025-10-08 13:45:01,351 - autonomous_loop - WARNING - Iteration 5: Preservation validation failed, retrying generation
   Retry attempt 1/2...
2025-10-08 13:45:01,352 - prompt_builder - INFO - Forcing exploration mode (iteration 5)
E0000 00:00:1759902301.358519   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (1890 chars)
✅ Preservation validated after retry 1
2025-10-08 13:45:16,403 - autonomous_loop - INFO - Iteration 5: Preservation validated on retry 1

[2.5/6] Auto-fixing dataset keys...
✅ Applied 2 fixes:
   - Fixed: fundamental_features:股價淨值比 → price_earning_ratio:股價淨值比
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: investment_trust_buy_sell_summary not exists...

[5/6] Building feedback...
✅ Feedback generated (153 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter5.py
2025-10-08 13:45:17,559 - __main__ - ERROR - ❌ Iteration 5 FAILED: FAILED
2025-10-08 13:45:17,560 - __main__ - INFO - 
2025-10-08 13:45:17,560 - __main__ - INFO - ============================================================
2025-10-08 13:45:17,561 - __main__ - INFO - ITERATION 6/29
2025-10-08 13:45:17,561 - __main__ - INFO - ============================================================
E0000 00:00:1759902317.566407   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 6
============================================================

[1/6] Building prompt...
✅ Prompt ready (7300 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (2504 chars)
✅ Strategy generated (2504 chars)

[2.3/6] Validating champion preservation...
✅ Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
✅ Applied 2 fixes:
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)
   - Fixed: fundamental_features:本益比 → price_earning_ratio:本益比

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: indicator:RSI not exists...

[5/6] Building feedback...
✅ Feedback generated (133 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter6.py
2025-10-08 13:45:38,666 - __main__ - ERROR - ❌ Iteration 6 FAILED: FAILED
2025-10-08 13:45:38,666 - __main__ - INFO - 
2025-10-08 13:45:38,667 - __main__ - INFO - ============================================================
2025-10-08 13:45:38,667 - __main__ - INFO - ITERATION 7/29
2025-10-08 13:45:38,667 - __main__ - INFO - ============================================================
E0000 00:00:1759902338.671051   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 7
============================================================

[1/6] Building prompt...
✅ Prompt ready (7300 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (1803 chars)
✅ Strategy generated (1803 chars)

[2.3/6] Validating champion preservation...
✅ Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
✅ Applied 2 fixes:
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)
   - Fixed: fundamental_features:本益比 → price_earning_ratio:本益比

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: foreign_main_force_buy_sell_summary not exists...

[5/6] Building feedback...
✅ Feedback generated (155 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter7.py
2025-10-08 13:45:57,707 - __main__ - ERROR - ❌ Iteration 7 FAILED: FAILED
2025-10-08 13:45:57,708 - __main__ - INFO - 
2025-10-08 13:45:57,708 - __main__ - INFO - ============================================================
2025-10-08 13:45:57,708 - __main__ - INFO - ITERATION 8/29
2025-10-08 13:45:57,709 - __main__ - INFO - ============================================================
E0000 00:00:1759902357.714229   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 8
============================================================

[1/6] Building prompt...
✅ Prompt ready (7300 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (2356 chars)
✅ Strategy generated (2356 chars)

[2.3/6] Validating champion preservation...
✅ Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
✅ Applied 1 fixes:
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: etl:foreign_main_force_buy_sell_summary:strength not exists...

[5/6] Building feedback...
✅ Feedback generated (168 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter8.py
2025-10-08 13:46:16,793 - __main__ - ERROR - ❌ Iteration 8 FAILED: FAILED
2025-10-08 13:46:16,794 - __main__ - INFO - 
2025-10-08 13:46:16,794 - __main__ - INFO - ============================================================
2025-10-08 13:46:16,794 - __main__ - INFO - ITERATION 9/29
2025-10-08 13:46:16,795 - __main__ - INFO - ============================================================
E0000 00:00:1759902376.800487   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 9
============================================================

[1/6] Building prompt...
✅ Prompt ready (7300 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (1818 chars)
✅ Strategy generated (1818 chars)

[2.3/6] Validating champion preservation...
✅ Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
✅ Applied 1 fixes:
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: etl:foreign_main_force_buy_sell_summary:strength not exists...

[5/6] Building feedback...
✅ Feedback generated (168 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter9.py
2025-10-08 13:46:27,731 - __main__ - ERROR - ❌ Iteration 9 FAILED: FAILED
2025-10-08 13:46:27,731 - __main__ - INFO - 
2025-10-08 13:46:27,732 - __main__ - INFO - ============================================================
2025-10-08 13:46:27,732 - __main__ - INFO - ITERATION 10/29
2025-10-08 13:46:27,732 - __main__ - INFO - ============================================================

============================================================
ITERATION 10
============================================================

[1/6] Building prompt...
2025-10-08 13:46:27,732 - prompt_builder - INFO - Forcing exploration mode (iteration 10)
E0000 00:00:1759902387.736476   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
✅ Prompt ready (6148 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (1970 chars)
✅ Strategy generated (1970 chars)

[2.3/6] Validating champion preservation...
2025-10-08 13:46:40,281 - autonomous_loop - WARNING - Preservation violation: Liquidity threshold relaxed by 80.0% (from 50 to 10)
⚠️  Preservation violation detected - regenerating with stronger constraints...
2025-10-08 13:46:40,282 - autonomous_loop - WARNING - Iteration 10: Preservation validation failed, retrying generation
   Retry attempt 1/2...
2025-10-08 13:46:40,282 - prompt_builder - INFO - Forcing exploration mode (iteration 10)
E0000 00:00:1759902400.285872   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (1889 chars)
✅ Preservation validated after retry 1
2025-10-08 13:46:58,806 - autonomous_loop - INFO - Iteration 10: Preservation validated on retry 1

[2.5/6] Auto-fixing dataset keys...
✅ Applied 2 fixes:
   - Fixed: fundamental_features:股價淨值比 → price_earning_ratio:股價淨值比
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: investment_trust_buy_sell_summary not exists...

[5/6] Building feedback...
✅ Feedback generated (153 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter10.py
2025-10-08 13:46:59,951 - __main__ - ERROR - ❌ Iteration 10 FAILED: FAILED
2025-10-08 13:46:59,951 - __main__ - INFO - 
2025-10-08 13:46:59,952 - __main__ - INFO - ============================================================
2025-10-08 13:46:59,952 - __main__ - INFO - ITERATION 11/29
2025-10-08 13:46:59,952 - __main__ - INFO - ============================================================
E0000 00:00:1759902419.959227   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 11
============================================================

[1/6] Building prompt...
✅ Prompt ready (7301 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (1580 chars)
✅ Strategy generated (1580 chars)

[2.3/6] Validating champion preservation...
✅ Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
✅ Applied 1 fixes:
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: foreign_main_force_buy_sell_summary not exists...

[5/6] Building feedback...
✅ Feedback generated (155 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter11.py
2025-10-08 13:47:12,312 - __main__ - ERROR - ❌ Iteration 11 FAILED: FAILED
2025-10-08 13:47:12,313 - __main__ - INFO - 
2025-10-08 13:47:12,313 - __main__ - INFO - ============================================================
2025-10-08 13:47:12,314 - __main__ - INFO - ITERATION 12/29
2025-10-08 13:47:12,314 - __main__ - INFO - ============================================================
E0000 00:00:1759902432.319387   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 12
============================================================

[1/6] Building prompt...
✅ Prompt ready (7301 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (1972 chars)
✅ Strategy generated (1972 chars)

[2.3/6] Validating champion preservation...
✅ Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
✅ Applied 2 fixes:
   - Fixed: fundamental_features:本益比 → price_earning_ratio:本益比
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: foreign_main_force_buy_sell_summary not exists...

[5/6] Building feedback...
✅ Feedback generated (155 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter12.py
2025-10-08 13:47:30,742 - __main__ - ERROR - ❌ Iteration 12 FAILED: FAILED
2025-10-08 13:47:30,743 - __main__ - INFO - 
2025-10-08 13:47:30,743 - __main__ - INFO - ============================================================
2025-10-08 13:47:30,744 - __main__ - INFO - ITERATION 13/29
2025-10-08 13:47:30,744 - __main__ - INFO - ============================================================
E0000 00:00:1759902450.750129   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 13
============================================================

[1/6] Building prompt...
✅ Prompt ready (7301 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (1898 chars)
✅ Strategy generated (1898 chars)

[2.3/6] Validating champion preservation...
✅ Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
✅ Applied 1 fixes:
   - Fixed: fundamental_features:本益比 → price_earning_ratio:本益比

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: foreign_main_force_buy_sell_summary not exists...

[5/6] Building feedback...
✅ Feedback generated (155 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter13.py
2025-10-08 13:47:56,118 - __main__ - ERROR - ❌ Iteration 13 FAILED: FAILED
2025-10-08 13:47:56,119 - __main__ - INFO - 
2025-10-08 13:47:56,119 - __main__ - INFO - ============================================================
2025-10-08 13:47:56,120 - __main__ - INFO - ITERATION 14/29
2025-10-08 13:47:56,120 - __main__ - INFO - ============================================================
E0000 00:00:1759902476.145328   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 14
============================================================

[1/6] Building prompt...
✅ Prompt ready (7301 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (1764 chars)
✅ Strategy generated (1764 chars)

[2.3/6] Validating champion preservation...
✅ Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
✅ Applied 1 fixes:
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: foreign_main_force_buy_sell_summary not exists...

[5/6] Building feedback...
✅ Feedback generated (155 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter14.py
2025-10-08 13:48:18,958 - __main__ - ERROR - ❌ Iteration 14 FAILED: FAILED
2025-10-08 13:48:18,959 - __main__ - INFO - 
2025-10-08 13:48:18,959 - __main__ - INFO - ============================================================
2025-10-08 13:48:18,960 - __main__ - INFO - ITERATION 15/29
2025-10-08 13:48:18,960 - __main__ - INFO - ============================================================

============================================================
ITERATION 15
============================================================

[1/6] Building prompt...
2025-10-08 13:48:18,961 - prompt_builder - INFO - Forcing exploration mode (iteration 15)
E0000 00:00:1759902498.966339   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
✅ Prompt ready (6148 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (2330 chars)
✅ Strategy generated (2330 chars)

[2.3/6] Validating champion preservation...
✅ Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
✅ Applied 2 fixes:
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)
   - Fixed: fundamental_features:本益比 → price_earning_ratio:本益比

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: foreign_main_force_buy_sell_summary not exists...

[5/6] Building feedback...
✅ Feedback generated (155 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter15.py
2025-10-08 13:48:34,573 - __main__ - ERROR - ❌ Iteration 15 FAILED: FAILED
2025-10-08 13:48:34,573 - __main__ - INFO - 
2025-10-08 13:48:34,574 - __main__ - INFO - ============================================================
2025-10-08 13:48:34,574 - __main__ - INFO - ITERATION 16/29
2025-10-08 13:48:34,575 - __main__ - INFO - ============================================================
E0000 00:00:1759902514.590728   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 16
============================================================

[1/6] Building prompt...
✅ Prompt ready (7301 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (2047 chars)
✅ Strategy generated (2047 chars)

[2.3/6] Validating champion preservation...
✅ Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
✅ Applied 2 fixes:
   - Fixed: fundamental_features:本益比 → price_earning_ratio:本益比
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: foreign_main_force_buy_sell_summary not exists...

[5/6] Building feedback...
✅ Feedback generated (155 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter16.py
2025-10-08 13:48:56,748 - __main__ - ERROR - ❌ Iteration 16 FAILED: FAILED
2025-10-08 13:48:56,749 - __main__ - INFO - 
2025-10-08 13:48:56,750 - __main__ - INFO - ============================================================
2025-10-08 13:48:56,751 - __main__ - INFO - ITERATION 17/29
2025-10-08 13:48:56,751 - __main__ - INFO - ============================================================
E0000 00:00:1759902536.758952   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 17
============================================================

[1/6] Building prompt...
✅ Prompt ready (7301 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (2210 chars)
✅ Strategy generated (2210 chars)

[2.3/6] Validating champion preservation...
✅ Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
✅ Applied 2 fixes:
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)
   - Fixed: fundamental_features:本益比 → price_earning_ratio:本益比

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: etl:foreign_main_force_buy_sell_summary:strength not exists...

[5/6] Building feedback...
✅ Feedback generated (168 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter17.py
2025-10-08 13:49:11,645 - __main__ - ERROR - ❌ Iteration 17 FAILED: FAILED
2025-10-08 13:49:11,655 - __main__ - INFO - 
2025-10-08 13:49:11,658 - __main__ - INFO - ============================================================
2025-10-08 13:49:11,658 - __main__ - INFO - ITERATION 18/29
2025-10-08 13:49:11,659 - __main__ - INFO - ============================================================
E0000 00:00:1759902551.677599   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 18
============================================================

[1/6] Building prompt...
✅ Prompt ready (7301 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
⚠️ No code block found in response, retrying...
Calling Google AI with gemini-2.5-flash (attempt 2/3)...
✅ Successfully generated strategy (2242 chars)
✅ Strategy generated (2242 chars)

[2.3/6] Validating champion preservation...
✅ Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
✅ Applied 2 fixes:
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)
   - Fixed: fundamental_features:本益比 → price_earning_ratio:本益比

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: indicator:RSI not exists...

[5/6] Building feedback...
✅ Feedback generated (133 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter18.py
2025-10-08 13:50:10,574 - __main__ - ERROR - ❌ Iteration 18 FAILED: FAILED
2025-10-08 13:50:10,576 - __main__ - INFO - 
2025-10-08 13:50:10,576 - __main__ - INFO - ============================================================
2025-10-08 13:50:10,576 - __main__ - INFO - ITERATION 19/29
2025-10-08 13:50:10,577 - __main__ - INFO - ============================================================
E0000 00:00:1759902610.591510   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 19
============================================================

[1/6] Building prompt...
✅ Prompt ready (7301 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (2143 chars)
✅ Strategy generated (2143 chars)

[2.3/6] Validating champion preservation...
✅ Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
✅ Applied 1 fixes:
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: fundamental_features:EPS not exists...

[5/6] Building feedback...
✅ Feedback generated (144 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter19.py
2025-10-08 13:50:34,916 - __main__ - ERROR - ❌ Iteration 19 FAILED: FAILED
2025-10-08 13:50:34,917 - __main__ - INFO - 
2025-10-08 13:50:34,917 - __main__ - INFO - ============================================================
2025-10-08 13:50:34,918 - __main__ - INFO - ITERATION 20/29
2025-10-08 13:50:34,918 - __main__ - INFO - ============================================================

============================================================
ITERATION 20
============================================================

[1/6] Building prompt...
2025-10-08 13:50:34,919 - prompt_builder - INFO - Forcing exploration mode (iteration 20)
E0000 00:00:1759902634.925027   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
✅ Prompt ready (6148 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (2153 chars)
✅ Strategy generated (2153 chars)

[2.3/6] Validating champion preservation...
✅ Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
✅ Applied 1 fixes:
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: foreign_main_force_buy_sell_summary not exists...

[5/6] Building feedback...
✅ Feedback generated (155 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter20.py
2025-10-08 13:50:55,156 - __main__ - ERROR - ❌ Iteration 20 FAILED: FAILED
2025-10-08 13:50:55,158 - __main__ - INFO - 
2025-10-08 13:50:55,158 - __main__ - INFO - ============================================================
2025-10-08 13:50:55,159 - __main__ - INFO - ITERATION 21/29
2025-10-08 13:50:55,159 - __main__ - INFO - ============================================================
E0000 00:00:1759902655.164448   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 21
============================================================

[1/6] Building prompt...
✅ Prompt ready (7301 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (2190 chars)
✅ Strategy generated (2190 chars)

[2.3/6] Validating champion preservation...
✅ Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
✅ Applied 2 fixes:
   - Fixed: fundamental_features:本益比 → price_earning_ratio:本益比
   - Fixed: etl:monthly_revenue:revenue_yoy → monthly_revenue:去年同月增減(%)

[3/6] Validating code...
✅ Validation passed

[4/6] Executing in sandbox...
❌ Execution failed
   Error: Exception: **Error: foreign_main_force_buy_sell_summary not exists...

[5/6] Building feedback...
✅ Feedback generated (155 chars)

[6/6] Recording iteration...
✅ Iteration recorded
✅ Code saved to generated_strategy_loop_iter21.py
2025-10-08 13:51:18,281 - __main__ - ERROR - ❌ Iteration 21 FAILED: FAILED
2025-10-08 13:51:18,282 - __main__ - INFO - 
2025-10-08 13:51:18,282 - __main__ - INFO - ============================================================
2025-10-08 13:51:18,282 - __main__ - INFO - ITERATION 22/29
2025-10-08 13:51:18,283 - __main__ - INFO - ============================================================
E0000 00:00:1759902678.290517   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.

============================================================
ITERATION 22
============================================================

[1/6] Building prompt...
✅ Prompt ready (7301 chars)

[2/6] Generating strategy with gemini-2.5-flash...
Calling Google AI with gemini-2.5-flash (attempt 1/3)...
✅ Successfully generated strategy (2402 chars)
✅ Strategy generated (2402 chars)

[2.3/6] Validating champion preservation...
2025-10-08 13:51:42,543 - autonomous_loop - WARNING - Preservation violation: Liquidity threshold relaxed by 60.0% (from 50 to 20)
⚠️  Preservation violation detected - regenerating with stronger constraints...
2025-10-08 13:51:42,544 - autonomous_loop - WARNING - Iteration 22: Preservation validation failed, retrying generation
E0000 00:00:1759902702.550528   10529 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
