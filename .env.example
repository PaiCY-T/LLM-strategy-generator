# Finlab Backtesting Optimization System - Environment Configuration
# Copy this file to .env and fill in your actual values

# ============================================================================
# REQUIRED: Finlab API Configuration
# ============================================================================
# Obtain your Finlab API token from https://www.finlab.tw/
# 1. Register or login to Finlab account
# 2. Navigate to API settings page
# 3. Generate new API token
# 4. Copy token and paste below
FINLAB_API_TOKEN=your_finlab_api_token_here

# ============================================================================
# REQUIRED: Claude API Configuration
# ============================================================================
# Obtain your Claude API key from https://console.anthropic.com/
# 1. Create Anthropic account
# 2. Navigate to API Keys section
# 3. Create new API key
# 4. Copy key and paste below
CLAUDE_API_KEY=your_claude_api_key_here

# ============================================================================
# OPTIONAL: Logging Configuration
# ============================================================================
# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Default: INFO
# Use DEBUG for development, INFO for production
LOG_LEVEL=INFO

# ============================================================================
# OPTIONAL: UI Language Configuration
# ============================================================================
# UI language: zh-TW (Traditional Chinese), en-US (English)
# Default: zh-TW
UI_LANGUAGE=zh-TW

# ============================================================================
# TESTING: API Keys for Test Environment
# ============================================================================
# API key for E2E and integration tests
# For CI/CD: Tests will use mock key if not provided
# For local testing: Set to actual test API key from OpenRouter
TEST_API_KEY=your_test_api_key_here

# OpenRouter API key for LLM strategy generation
# Required for actual strategy evolution with LLM models
# Obtain from: https://openrouter.ai/
OPENROUTER_API_KEY=your_openrouter_api_key_here

# ============================================================================
# FEATURE FLAGS: Validation Layer Controls
# ============================================================================
# Enable/disable validation layers independently for incremental rollout
# All default to 'false' - explicitly set to 'true' to enable

# Layer 1: DataFieldManifest validation (prompts with valid field names)
# When enabled: LLM receives field suggestions in prompt
# Performance impact: <1Î¼s per request
ENABLE_VALIDATION_LAYER1=false

# Layer 2: Quick static analysis (AST-based field validation)
# When enabled: Generated strategies validated for field existence
# Performance impact: <200ms per request
ENABLE_VALIDATION_LAYER2=false

# Layer 3: Deep LLM-based validation (semantic and logic checks)
# When enabled: Comprehensive LLM review of generated strategies
# Performance impact: <5s per request (uses LLM API)
ENABLE_VALIDATION_LAYER3=false

# Rollout percentage for Layer 1 validation (0-100)
# Controls what percentage of strategy generation requests get Layer 1 validation
# Default: 10 (10% rollout for gradual deployment)
ROLLOUT_PERCENTAGE_LAYER1=10

# ============================================================================
# OPTIONAL: Monitoring Configuration
# ============================================================================
# Enable performance monitoring and metrics collection
# Default: false (disabled for better performance)
MONITORING_ENABLED=false

# ============================================================================
# NOTES
# ============================================================================
# - Do NOT commit the .env file to version control
# - The .env file is already in .gitignore
# - Restart the application after changing environment variables
# - All paths are relative to project root directory
