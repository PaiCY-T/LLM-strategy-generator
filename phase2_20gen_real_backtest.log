============================================================
PHASE 2: 20 GENERATIONS WITH REAL BACKTEST
============================================================

Configuration:
  Model: gemini-2.5-flash-lite
  Max iterations: 20
  Innovation rate: 5% (from config/learning_system.yaml)
  Sandbox: ENABLED
  Champion updates: ENABLED

âœ… Loop created
   Model: gemini-2.5-flash-lite
   Max iterations: 20
   LLM enabled: True
   Innovation rate: 5.0%
   Sandbox enabled: Unknown

ğŸš€ Starting Phase 2 test...


============================================================
AUTONOMOUS LEARNING LOOP - START
============================================================
Model: gemini-2.5-flash-lite
Max iterations: 20
Sandbox mode: ENABLED


============================================================
ITERATION 0
============================================================


[0.5/6] Capturing configuration snapshot...
âœ… Configuration captured
[1/6] Building prompt...
âœ… Prompt ready (7937 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using Factor Graph mutation (default)
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
WARNING: All log messages before absl::InitializeLog() is called are written to STDERR
E0000 00:00:1761819891.502113   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
volume = data.get('price:æˆäº¤è‚¡æ•¸')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
pb_ratio = data.get('fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯”')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).shift(1)

#...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2384 chars)
âœ… Strategy generated (2384 chars)

[2.5/6] Auto-fixing dataset keys...
   Code hash: bb89193778c702e5
âœ… Applied 1 fixes:
   - Fixed: fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯” â†’ price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”

[2.7/6] Static validation...
âŒ Static validation failed (1 issues)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[3/6] Skipping AST validation (static validation failed)

[4/6] Skipping execution (validation failed)
âŒ Validation failed (1 errors)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[4/6] Skipping execution (validation failed)

[5/6] Building feedback...
âœ… Feedback generated (131 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter0.py

============================================================
ITERATION 1
============================================================


[0.5/6] Capturing configuration snapshot...
âœ… Configuration captured
[1/6] Building prompt...
âœ… Prompt ready (8524 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using Factor Graph mutation (default)
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819896.997532   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
pb_ratio = data.get('fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯”')
market_cap = data.get('etl:market_value')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).s...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2601 chars)
âœ… Strategy generated (2601 chars)

[2.5/6] Auto-fixing dataset keys...
   Code hash: ca52ed16a217e020
âœ… Applied 1 fixes:
   - Fixed: fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯” â†’ price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”

[2.7/6] Static validation...
âŒ Static validation failed (1 issues)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[3/6] Skipping AST validation (static validation failed)

[4/6] Skipping execution (validation failed)
âŒ Validation failed (1 errors)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[4/6] Skipping execution (validation failed)

[5/6] Building feedback...
âœ… Feedback generated (131 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter1.py

============================================================
ITERATION 2
============================================================


[0.5/6] Capturing configuration snapshot...
âœ… Configuration captured
[1/6] Building prompt...
âœ… Prompt ready (8524 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using Factor Graph mutation (default)
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819902.170203   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
pb_ratio = data.get('fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯”')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).shift(1)

# Factor 2: Revenue Growth (month...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2184 chars)
âœ… Strategy generated (2184 chars)

[2.5/6] Auto-fixing dataset keys...
   Code hash: 888975d2c6a406af
âœ… Applied 1 fixes:
   - Fixed: fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯” â†’ price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”

[2.7/6] Static validation...
âŒ Static validation failed (1 issues)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[3/6] Skipping AST validation (static validation failed)

[4/6] Skipping execution (validation failed)
âŒ Validation failed (1 errors)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[4/6] Skipping execution (validation failed)

[5/6] Building feedback...
âœ… Feedback generated (131 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter2.py

============================================================
ITERATION 3
============================================================


[0.5/6] Capturing configuration snapshot...
âœ… Configuration captured
[1/6] Building prompt...
âœ… Prompt ready (10617 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using Factor Graph mutation (default)
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819907.555256   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
volume = data.get('price:æˆäº¤è‚¡æ•¸')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
pb_ratio = data.get('fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯”')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).shift(1)

#...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2587 chars)
âœ… Strategy generated (2587 chars)

[2.3/6] Validating champion preservation...
âœ… Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
   Code hash: e3de8c8c4c9f08bf
âœ… Applied 1 fixes:
   - Fixed: fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯” â†’ price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”

[2.7/6] Static validation...
âŒ Static validation failed (1 issues)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[3/6] Skipping AST validation (static validation failed)

[4/6] Skipping execution (validation failed)
âŒ Validation failed (1 errors)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[4/6] Skipping execution (validation failed)

[5/6] Building feedback...
âœ… Feedback generated (131 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter3.py

============================================================
ITERATION 4
============================================================


[0.5/6] Capturing configuration snapshot...
âœ… Configuration captured
[1/6] Building prompt...
âœ… Prompt ready (10617 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using Factor Graph mutation (default)
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819912.710458   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
volume = data.get('price:æˆäº¤è‚¡æ•¸')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
pb_ratio = data.get('fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯”')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).shift(1)

#...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2762 chars)
âœ… Strategy generated (2762 chars)

[2.3/6] Validating champion preservation...
âœ… Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
   Code hash: daab37c72e91619d
âœ… Applied 1 fixes:
   - Fixed: fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯” â†’ price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”

[2.7/6] Static validation...
âŒ Static validation failed (1 issues)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[3/6] Skipping AST validation (static validation failed)

[4/6] Skipping execution (validation failed)
âŒ Validation failed (1 errors)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[4/6] Skipping execution (validation failed)

[5/6] Building feedback...
âœ… Feedback generated (131 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter4.py

============================================================
ITERATION 5
============================================================


[0.5/6] Capturing configuration snapshot...
âœ… Configuration captured
[1/6] Building prompt...
âœ… Prompt ready (8564 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using Factor Graph mutation (default)
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819917.726494   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
pb_ratio = data.get('fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯”')
market_cap = data.get('etl:market_value')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).s...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2429 chars)
âœ… Strategy generated (2429 chars)

[2.3/6] Validating champion preservation...
âœ… Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
   Code hash: b2890b4ff9af5400
âœ… Applied 1 fixes:
   - Fixed: fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯” â†’ price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”

[2.7/6] Static validation...
âŒ Static validation failed (1 issues)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[3/6] Skipping AST validation (static validation failed)

[4/6] Skipping execution (validation failed)
âŒ Validation failed (1 errors)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[4/6] Skipping execution (validation failed)

[5/6] Building feedback...
âœ… Feedback generated (131 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter5.py

============================================================
ITERATION 6
============================================================

Data checksum changed: Data checksum mismatch: expected=9ad3afa19b659d4d..., current=EMPTY_DATA_CHECK...

[0.5/6] Capturing configuration snapshot...
Configuration capture failed: No module named 'src.config.experiment_config'
âš ï¸  Configuration capture failed (continuing)
[1/6] Building prompt...
âœ… Prompt ready (10617 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using Factor Graph mutation (default)
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819922.598147   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
pb_ratio = data.get('fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯”')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).shift(1)

# Factor 2: Revenue Growth (month...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2402 chars)
âœ… Strategy generated (2402 chars)

[2.3/6] Validating champion preservation...
âœ… Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
   Code hash: 35a363b797632902
âœ… Applied 1 fixes:
   - Fixed: fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯” â†’ price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”

[2.7/6] Static validation...
âŒ Static validation failed (1 issues)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[3/6] Skipping AST validation (static validation failed)

[4/6] Skipping execution (validation failed)
âŒ Validation failed (1 errors)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[4/6] Skipping execution (validation failed)

[5/6] Building feedback...
âœ… Feedback generated (131 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter6.py

============================================================
ITERATION 7
============================================================

Data checksum changed: Data checksum mismatch: expected=9ad3afa19b659d4d..., current=EMPTY_DATA_CHECK...

[0.5/6] Capturing configuration snapshot...
âœ… Configuration captured
[1/6] Building prompt...
âœ… Prompt ready (10617 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using Factor Graph mutation (default)
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819927.307845   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
market_cap = data.get('etl:market_value')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).shift(1)

# Factor 2: Revenue Growth (monthly data ...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2282 chars)
âœ… Strategy generated (2282 chars)

[2.3/6] Validating champion preservation...
âœ… Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
   Code hash: 789e63725e98dd08
âœ… No fixes needed

[2.7/6] Static validation...
âœ… Static validation passed

[3/6] Validating code...
âœ… Validation passed

[4/6] Executing strategy (mode: sandbox)...
âŒ Execution failed
   Error: Container exited with code 1:
Traceback (most recent call last):
  File "/code/strategy.py", line 31...

[5/6] Building feedback...
âœ… Feedback generated (395 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter7.py

============================================================
ITERATION 8
============================================================

Data checksum changed: Data checksum mismatch: expected=9ad3afa19b659d4d..., current=EMPTY_DATA_CHECK...

[0.5/6] Capturing configuration snapshot...
Configuration capture failed: No module named 'src.config.experiment_config'
âš ï¸  Configuration capture failed (continuing)
[1/6] Building prompt...
âœ… Prompt ready (10617 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using Factor Graph mutation (default)
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819934.162592   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
volume = data.get('price:æˆäº¤è‚¡æ•¸')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
pb_ratio = data.get('fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯”')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).shift(1)

#...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2283 chars)
âœ… Strategy generated (2283 chars)

[2.3/6] Validating champion preservation...
âœ… Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
   Code hash: 20980cf61ce587fb
âœ… Applied 1 fixes:
   - Fixed: fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯” â†’ price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”

[2.7/6] Static validation...
âŒ Static validation failed (1 issues)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[3/6] Skipping AST validation (static validation failed)

[4/6] Skipping execution (validation failed)
âŒ Validation failed (1 errors)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[4/6] Skipping execution (validation failed)

[5/6] Building feedback...
âœ… Feedback generated (131 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter8.py

============================================================
ITERATION 9
============================================================

Data checksum changed: Data checksum mismatch: expected=9ad3afa19b659d4d..., current=EMPTY_DATA_CHECK...

[0.5/6] Capturing configuration snapshot...
âœ… Configuration captured
[1/6] Building prompt...
âœ… Prompt ready (10617 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using Factor Graph mutation (default)
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819939.171911   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
pb_ratio = data.get('fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯”')
market_cap = data.get('etl:market_value')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).s...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2359 chars)
âœ… Strategy generated (2359 chars)

[2.3/6] Validating champion preservation...
âœ… Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
   Code hash: afb789a0fca7f6de
âœ… Applied 1 fixes:
   - Fixed: fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯” â†’ price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”

[2.7/6] Static validation...
âŒ Static validation failed (1 issues)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[3/6] Skipping AST validation (static validation failed)

[4/6] Skipping execution (validation failed)
âŒ Validation failed (1 errors)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[4/6] Skipping execution (validation failed)

[5/6] Building feedback...
âœ… Feedback generated (131 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter9.py

============================================================
ITERATION 10
============================================================

Data checksum changed: Data checksum mismatch: expected=9ad3afa19b659d4d..., current=EMPTY_DATA_CHECK...

[0.5/6] Capturing configuration snapshot...
Configuration capture failed: No module named 'src.config.experiment_config'
âš ï¸  Configuration capture failed (continuing)
[1/6] Building prompt...
âœ… Prompt ready (8565 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using LLM innovation (rate: 5.0%)
âŒ Gemini API error None: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/$%7BLLM_MODEL:anthropic/claude-3.5-sonnet%7D:generateContent?key=AIzaSyBcKA1pfkFcsQ6IFkyu10_IXdc2MB_nIg0
âš ï¸  API call failed (attempt 1/3), retrying...
âŒ Gemini API error None: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/$%7BLLM_MODEL:anthropic/claude-3.5-sonnet%7D:generateContent?key=AIzaSyBcKA1pfkFcsQ6IFkyu10_IXdc2MB_nIg0
âš ï¸  API call failed (attempt 2/3), retrying...
âŒ Gemini API error None: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/$%7BLLM_MODEL:anthropic/claude-3.5-sonnet%7D:generateContent?key=AIzaSyBcKA1pfkFcsQ6IFkyu10_IXdc2MB_nIg0
âŒ Innovation generation failed: LLM API call failed after all retries
âš ï¸  LLM innovation failed, falling back to Factor Graph
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819947.456441   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
pb_ratio = data.get('fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯”')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).shift(1)

# Factor 2: Revenue Growth (month...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2422 chars)
âœ… Strategy generated (2422 chars)

[2.3/6] Validating champion preservation...
âœ… Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
   Code hash: aa956158a26075a2
âœ… Applied 1 fixes:
   - Fixed: fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯” â†’ price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”

[2.7/6] Static validation...
âŒ Static validation failed (1 issues)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[3/6] Skipping AST validation (static validation failed)

[4/6] Skipping execution (validation failed)
âŒ Validation failed (1 errors)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[4/6] Skipping execution (validation failed)

[5/6] Building feedback...
âœ… Feedback generated (131 chars)

[6/6] Recording iteration...
Alert: low_success_rate - Low success rate detected: 0.0% (threshold: 20.0%)
ALERT TRIGGERED: low_success_rate - Low success rate detected: 0.0% (threshold: 20.0%)
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter10.py

============================================================
ITERATION 11
============================================================

Data checksum changed: Data checksum mismatch: expected=9ad3afa19b659d4d..., current=EMPTY_DATA_CHECK...

[0.5/6] Capturing configuration snapshot...
âœ… Configuration captured
[1/6] Building prompt...
âœ… Prompt ready (10619 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using Factor Graph mutation (default)
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819952.410082   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
volume = data.get('price:æˆäº¤è‚¡æ•¸')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
pb_ratio = data.get('fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯”')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).shift(1)

#...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2183 chars)
âœ… Strategy generated (2183 chars)

[2.3/6] Validating champion preservation...
âœ… Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
   Code hash: 497103c7179c8c53
âœ… Applied 1 fixes:
   - Fixed: fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯” â†’ price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”

[2.7/6] Static validation...
âŒ Static validation failed (1 issues)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[3/6] Skipping AST validation (static validation failed)

[4/6] Skipping execution (validation failed)
âŒ Validation failed (1 errors)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[4/6] Skipping execution (validation failed)

[5/6] Building feedback...
âœ… Feedback generated (131 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter11.py

============================================================
ITERATION 12
============================================================

Data checksum changed: Data checksum mismatch: expected=9ad3afa19b659d4d..., current=EMPTY_DATA_CHECK...

[0.5/6] Capturing configuration snapshot...
Configuration capture failed: No module named 'src.config.experiment_config'
âš ï¸  Configuration capture failed (continuing)
[1/6] Building prompt...
âœ… Prompt ready (10619 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using Factor Graph mutation (default)
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819956.981494   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
market_cap = data.get('etl:market_value')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).shift(1)

# Factor 2: Revenue Growth (monthly data ...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2099 chars)
âœ… Strategy generated (2099 chars)

[2.3/6] Validating champion preservation...
âœ… Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
   Code hash: e94124c7fd6b8a2d
âœ… No fixes needed

[2.7/6] Static validation...
âœ… Static validation passed

[3/6] Validating code...
âœ… Validation passed

[4/6] Executing strategy (mode: sandbox)...
âŒ Execution failed
   Error: Container exited with code 1:
Traceback (most recent call last):
  File "/code/strategy.py", line 31...

[5/6] Building feedback...
âœ… Feedback generated (395 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter12.py

============================================================
ITERATION 13
============================================================

Data checksum changed: Data checksum mismatch: expected=9ad3afa19b659d4d..., current=EMPTY_DATA_CHECK...

[0.5/6] Capturing configuration snapshot...
âœ… Configuration captured
[1/6] Building prompt...
âœ… Prompt ready (10619 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using Factor Graph mutation (default)
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819963.934966   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
pb_ratio = data.get('fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯”')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).shift(1)

# Factor 2: Revenue Growth (month...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2202 chars)
âœ… Strategy generated (2202 chars)

[2.3/6] Validating champion preservation...
âœ… Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
   Code hash: cfb4c9d9622226ef
âœ… Applied 1 fixes:
   - Fixed: fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯” â†’ price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”

[2.7/6] Static validation...
âŒ Static validation failed (1 issues)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[3/6] Skipping AST validation (static validation failed)

[4/6] Skipping execution (validation failed)
âŒ Validation failed (1 errors)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[4/6] Skipping execution (validation failed)

[5/6] Building feedback...
âœ… Feedback generated (131 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter13.py

============================================================
ITERATION 14
============================================================

Data checksum changed: Data checksum mismatch: expected=9ad3afa19b659d4d..., current=EMPTY_DATA_CHECK...

[0.5/6] Capturing configuration snapshot...
Configuration capture failed: No module named 'src.config.experiment_config'
âš ï¸  Configuration capture failed (continuing)
[1/6] Building prompt...
âœ… Prompt ready (10619 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using LLM innovation (rate: 5.0%)
âŒ Gemini API error None: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/$%7BLLM_MODEL:anthropic/claude-3.5-sonnet%7D:generateContent?key=AIzaSyBcKA1pfkFcsQ6IFkyu10_IXdc2MB_nIg0
âš ï¸  API call failed (attempt 1/3), retrying...
âŒ Gemini API error None: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/$%7BLLM_MODEL:anthropic/claude-3.5-sonnet%7D:generateContent?key=AIzaSyBcKA1pfkFcsQ6IFkyu10_IXdc2MB_nIg0
âš ï¸  API call failed (attempt 2/3), retrying...
âŒ Gemini API error None: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/$%7BLLM_MODEL:anthropic/claude-3.5-sonnet%7D:generateContent?key=AIzaSyBcKA1pfkFcsQ6IFkyu10_IXdc2MB_nIg0
âŒ Innovation generation failed: LLM API call failed after all retries
âš ï¸  LLM innovation failed, falling back to Factor Graph
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819971.584681   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
volume = data.get('price:æˆäº¤è‚¡æ•¸')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
pe_ratio = data.get('price_earning_ratio:æœ¬ç›Šæ¯”')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).shift(1)

# Fa...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2659 chars)
âœ… Strategy generated (2659 chars)

[2.3/6] Validating champion preservation...
âœ… Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
   Code hash: 28e89cf2f2465ebd
âœ… No fixes needed

[2.7/6] Static validation...
âœ… Static validation passed

[3/6] Validating code...
âœ… Validation passed

[4/6] Executing strategy (mode: sandbox)...
âŒ Execution failed
   Error: Container exited with code 1:
Traceback (most recent call last):
  File "/code/strategy.py", line 31...

[5/6] Building feedback...
âœ… Feedback generated (395 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter14.py

============================================================
ITERATION 15
============================================================

Data checksum changed: Data checksum mismatch: expected=9ad3afa19b659d4d..., current=EMPTY_DATA_CHECK...

[0.5/6] Capturing configuration snapshot...
âœ… Configuration captured
[1/6] Building prompt...
âœ… Prompt ready (8566 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using Factor Graph mutation (default)
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819978.704553   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
Alert evaluation took 60.5ms (target: <50ms)
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
pb_ratio = data.get('fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯”')
market_cap = data.get('etl:market_value')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).s...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2439 chars)
âœ… Strategy generated (2439 chars)

[2.3/6] Validating champion preservation...
âœ… Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
   Code hash: e4c36aae84f58d27
âœ… Applied 1 fixes:
   - Fixed: fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯” â†’ price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”

[2.7/6] Static validation...
âŒ Static validation failed (1 issues)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[3/6] Skipping AST validation (static validation failed)

[4/6] Skipping execution (validation failed)
âŒ Validation failed (1 errors)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[4/6] Skipping execution (validation failed)

[5/6] Building feedback...
âœ… Feedback generated (131 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter15.py

============================================================
ITERATION 16
============================================================

Data checksum changed: Data checksum mismatch: expected=9ad3afa19b659d4d..., current=EMPTY_DATA_CHECK...

[0.5/6] Capturing configuration snapshot...
Configuration capture failed: No module named 'src.config.experiment_config'
âš ï¸  Configuration capture failed (continuing)
[1/6] Building prompt...
âœ… Prompt ready (10619 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using Factor Graph mutation (default)
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819983.457654   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
volume = data.get('price:æˆäº¤è‚¡æ•¸')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
pb_ratio = data.get('fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯”')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).shift(1)

#...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2342 chars)
âœ… Strategy generated (2342 chars)

[2.3/6] Validating champion preservation...
âœ… Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
   Code hash: 8dc0e31fa4a19c0b
âœ… Applied 1 fixes:
   - Fixed: fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯” â†’ price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”

[2.7/6] Static validation...
âŒ Static validation failed (1 issues)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[3/6] Skipping AST validation (static validation failed)

[4/6] Skipping execution (validation failed)
âŒ Validation failed (1 errors)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[4/6] Skipping execution (validation failed)

[5/6] Building feedback...
âœ… Feedback generated (131 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter16.py

============================================================
ITERATION 17
============================================================

Data checksum changed: Data checksum mismatch: expected=9ad3afa19b659d4d..., current=EMPTY_DATA_CHECK...

[0.5/6] Capturing configuration snapshot...
âœ… Configuration captured
[1/6] Building prompt...
âœ… Prompt ready (10619 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using Factor Graph mutation (default)
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819987.857894   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
volume = data.get('price:æˆäº¤è‚¡æ•¸')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
pb_ratio = data.get('fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯”')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).shift(1)

#...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2185 chars)
âœ… Strategy generated (2185 chars)

[2.3/6] Validating champion preservation...
âœ… Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
   Code hash: 25bca083c74fe0b3
âœ… Applied 1 fixes:
   - Fixed: fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯” â†’ price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”

[2.7/6] Static validation...
âŒ Static validation failed (1 issues)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[3/6] Skipping AST validation (static validation failed)

[4/6] Skipping execution (validation failed)
âŒ Validation failed (1 errors)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[4/6] Skipping execution (validation failed)

[5/6] Building feedback...
âœ… Feedback generated (131 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter17.py

============================================================
ITERATION 18
============================================================

Data checksum changed: Data checksum mismatch: expected=9ad3afa19b659d4d..., current=EMPTY_DATA_CHECK...

[0.5/6] Capturing configuration snapshot...
Configuration capture failed: No module named 'src.config.experiment_config'
âš ï¸  Configuration capture failed (continuing)
[1/6] Building prompt...
âœ… Prompt ready (10619 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using Factor Graph mutation (default)
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819992.775729   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
volume = data.get('price:æˆäº¤è‚¡æ•¸')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
pb_ratio = data.get('fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯”')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).shift(1)

#...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2461 chars)
âœ… Strategy generated (2461 chars)

[2.3/6] Validating champion preservation...
âœ… Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
   Code hash: 0f430f3ea085243d
âœ… Applied 1 fixes:
   - Fixed: fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯” â†’ price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”

[2.7/6] Static validation...
âŒ Static validation failed (1 issues)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[3/6] Skipping AST validation (static validation failed)

[4/6] Skipping execution (validation failed)
âŒ Validation failed (1 errors)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[4/6] Skipping execution (validation failed)

[5/6] Building feedback...
âœ… Feedback generated (131 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter18.py

============================================================
ITERATION 19
============================================================

Data checksum changed: Data checksum mismatch: expected=9ad3afa19b659d4d..., current=EMPTY_DATA_CHECK...

[0.5/6] Capturing configuration snapshot...
âœ… Configuration captured
[1/6] Building prompt...
âœ… Prompt ready (10619 chars)

[2/6] Generating strategy with gemini-2.5-flash-lite...
   â†’ Using Factor Graph mutation (default)
ğŸ¯ Attempting Google AI (primary)...
Calling Google AI with gemini-2.5-flash-lite (attempt 1/3)...
E0000 00:00:1761819997.278971   15637 alts_credentials.cc:93] ALTS creds ignored. Not running on GCP and untrusted ALTS is not enabled.
ğŸ“ Response preview: ```python
# 1. Load data
close = data.get('price:æ”¶ç›¤åƒ¹')
volume = data.get('price:æˆäº¤è‚¡æ•¸')
trading_value = data.get('price:æˆäº¤é‡‘é¡')
revenue_yoy = data.get('monthly_revenue:å»å¹´åŒæœˆå¢æ¸›(%)')
roe = data.get('fundamental_features:ROEç¨…å¾Œ')
foreign_net_buy = data.get('institutional_investors_trading_summary:å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)')
rsi = data.indicator('RSI')
pb_ratio = data.get('fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯”')

# 2. Calculate factors
# Factor 1: Price Momentum (60-day returns)
momentum = close.pct_change(60).shift(1)

#...
   âœ“ Found code in ```python block (Strategy 1)
âœ… Successfully generated strategy (2185 chars)
âœ… Strategy generated (2185 chars)

[2.3/6] Validating champion preservation...
âœ… Preservation validated - critical patterns maintained

[2.5/6] Auto-fixing dataset keys...
   Code hash: 6acb71775370aa83
âœ… Applied 1 fixes:
   - Fixed: fundamental_features:è‚¡åƒ¹æ·¨å€¼æ¯” â†’ price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”

[2.7/6] Static validation...
âŒ Static validation failed (1 issues)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[3/6] Skipping AST validation (static validation failed)

[4/6] Skipping execution (validation failed)
âŒ Validation failed (1 errors)
   - Unknown dataset key: 'price_earning_ratio:è‚¡åƒ¹æ·¨å€¼æ¯”' not in available datasets

[4/6] Skipping execution (validation failed)

[5/6] Building feedback...
âœ… Feedback generated (131 chars)

[6/6] Recording iteration...
âœ… Iteration recorded
âœ… Code saved to generated_strategy_loop_iter19.py

============================================================
AUTONOMOUS LEARNING LOOP - COMPLETE
============================================================
Total time: 110.2s
Total iterations: 20
âœ… Successful: 0
âŒ Failed: 20
   - Validation failures: 0
   - Execution failures: 0

Success rate: 0.0%

ğŸ‰ Generated 593 successful strategies!

ğŸ† Best strategy: Iteration 0
   Sharpe: 2.4956
   Return: -0.23650336808245218

============================================================
LLM INNOVATION STATISTICS
============================================================
LLM enabled: True
Innovation rate: 5.0%
LLM innovations: 0
LLM fallbacks: 2
Factor Graph mutations: 20
LLM success rate: 0.0%

LLM Costs:
  Total cost: $0.000000
  Total tokens: 0
  Successful generations: 0

============================================================
PHASE 2 RESULTS
============================================================
Total iterations: 20
Successful: 0
Failed: 20
Traceback (most recent call last):
  File "/mnt/c/Users/jnpi/documents/finlab/run_phase2_real_backtest.py", line 113, in <module>
    sys.exit(main())
  File "/mnt/c/Users/jnpi/documents/finlab/run_phase2_real_backtest.py", line 62, in main
    print(f"Success rate: {results['success_rate']:.1%}")
KeyError: 'success_rate'
