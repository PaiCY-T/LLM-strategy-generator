# Factor Combination Strategy Test YAML
# Tests multi-factor strategy with fundamental and technical indicators

metadata:
  name: "Quality Growth Momentum"
  description: "Combine ROE, revenue growth, and momentum for stock selection"
  strategy_type: "factor_combination"
  rebalancing_frequency: "M"
  version: "1.0.0"
  author: "FinLab LLM System"
  tags:
    - "factor"
    - "quality"
    - "growth"
    - "momentum"
  risk_level: "medium"

indicators:
  fundamental_factors:
    - name: "roe"
      field: "ROE"
      source: "data.get('ROE')"
      transformation: "none"

    - name: "revenue_growth"
      field: "revenue_growth"
      source: "data.get('revenue_growth')"
      transformation: "none"

    - name: "pb_ratio"
      field: "PB_ratio"
      source: "data.get('PB_ratio')"
      transformation: "none"

  technical_indicators:
    - name: "rsi_14"
      type: "RSI"
      period: 14
      source: "data.get('RSI_14')"

    - name: "ma_50"
      type: "SMA"
      period: 50
      source: "data.get('MA_50')"

  custom_calculations:
    - name: "quality_score"
      expression: "roe * (1 + revenue_growth)"
      description: "Combined quality and growth score"

entry_conditions:
  ranking_rules:
    - field: "quality_score"
      method: "top_percent"
      value: 20
      ascending: false

  threshold_rules:
    - condition: "rsi_14 > 30"
      description: "RSI not oversold"

    - condition: "close > ma_50"
      description: "Price above 50-day MA"

    - condition: "pb_ratio < 3.0"
      description: "Not overvalued by P/B"

  logical_operator: "AND"

  min_liquidity:
    average_volume_20d: 150000000

position_sizing:
  method: "factor_weighted"
  weighting_field: "quality_score"
  max_positions: 25
  max_position_pct: 0.10
  min_position_pct: 0.02
